# OpenPaw Global Configuration
# Copy to config.yaml and customize. Per-workspace overrides go in agent.yaml.

# Path to agent workspaces directory
workspaces_path: agent_workspaces

# Logging
logging:
  level: INFO
  directory: logs
  max_size_mb: 10
  backup_count: 5
  per_workspace: true

# Message queue defaults (can be overridden per workspace)
queue:
  mode: collect            # collect, steer, followup, interrupt
  debounce_ms: 1000
  cap: 20
  drop_policy: summarize   # old, new, summarize

# Lane concurrency
lanes:
  main_concurrency: 4
  subagent_concurrency: 8
  cron_concurrency: 2

# Default agent model
# Format: provider:model_id
# Examples:
#   anthropic:claude-sonnet-4-20250514
#   openai:gpt-4o
#   xai:grok-3-mini
#   bedrock_converse:moonshot.kimi-k2-thinking
agent:
  model: anthropic:claude-sonnet-4-20250514
  max_turns: 50
  temperature: 0.7

# Builtins (tools and processors)
# Conditionally loaded based on API keys and installed packages.
# See docs/builtins.md for full reference.
builtins:
  allow: []    # Empty = allow all available
  deny: []     # Use "group:voice" to deny entire groups

  # Example: configure Brave Search
  # brave_search:
  #   enabled: true
  #   config:
  #     count: 5

  # Example: configure browser automation
  # browser:
  #   enabled: true
  #   config:
  #     headless: true
  #     allowed_domains: []
  #     blocked_domains: []
  #     timeout_seconds: 30
  #     persist_cookies: false

# Per-workspace settings (also configurable in agent.yaml)
# auto_compact:
#   enabled: false          # Auto-compact when context window fills
#   trigger: 0.8            # Fraction of context window to trigger (0.0-1.0)
#   summary_model: null     # Model for summaries (null = use workspace model)

# lifecycle:
#   notify_startup: false   # Notify users when workspace starts
#   notify_shutdown: true   # Notify users when workspace stops
#   notify_auto_compact: true  # Notify users on auto-compact

# Conversation memory (vector search)
# Disabled by default â€” requires embedding API key
# memory:
#   enabled: true
#   embedding:
#     provider: openai
#     model: text-embedding-3-small
#     api_key: ${OPENAI_API_KEY}

# Per-workspace model config (in agent.yaml, not here)
# Two equivalent formats:
#   Combined: model: "anthropic:claude-sonnet-4-20250514"
#   Explicit:
#     model:
#       provider: anthropic
#       model: claude-sonnet-4-20250514
#       temperature: 0.5

# Per-workspace channel settings (in agent.yaml, not here)
# channel:
#   type: telegram
#   token: ${TELEGRAM_BOT_TOKEN}
#   allowed_users:
#     - 123456789
#     - 987654321
#   user_aliases:             # Map user IDs to display names
#     123456789: "John"
#     987654321: "Sarah"
